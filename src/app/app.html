<div class="main-container">
  <!-- Panel de Circuitos de Tiempo -->
  <div class="time-circuit-panel">
    <div class="circuit-header">
      <div class="circuit-line"></div>
      <span class="circuit-label">TIME CIRCUITS</span>
      <div class="circuit-line"></div>
    </div>
    
    <div class="circuit-row dest">
      <span class="circuit-label-text">DESTINATION TIME</span>
      <div class="circuit-digits red-glow">
        <span class="date-part">ENERO 17</span>
        <span class="time-part">2026 ¬∑ 20:00</span>
      </div>
    </div>
    
    <div class="circuit-row present">
      <span class="circuit-label-text">PRESENT TIME</span>
      <div class="circuit-digits green-glow">
        <span class="date-part">{{ fechaActual | date:'MMMM dd' }}</span>
        <span class="time-part">{{ fechaActual | date:'yyyy ¬∑ HH:mm' }}</span>
      </div>
    </div>
    
    <div class="circuit-row last">
      <span class="circuit-label-text">LAST TIME DEPARTED</span>
      <div class="circuit-digits amber-glow">
        <span class="date-part">ENERO 18</span>
        <span class="time-part">1996 ¬∑ 13:38</span>
      </div>
    </div>
    
    <div class="flux-capacitor">
      <div class="flux-core">
        <div class="flux-line"></div>
        <div class="flux-line"></div>
        <div class="flux-line"></div>
      </div>
      <span class="flux-label">FLUX CAPACITOR</span>
    </div>
  </div>

  <!-- Tarjeta Principal de Invitaci√≥n -->
  <div class="invitation-card">
    <div class="card-glow"></div>
    
    <div class="title-section">
      <h1 class="main-title">
        <span class="title-line">¬°EST√ÅS INVITADO A UN VIAJE EN EL TIEMPO!</span>
        <span class="title-line title-subtitle">Destino final: mi cumplea√±os n√∫mero 30 üéÇ‚ö°</span>
      </h1>
      <div class="title-underline"></div>
      <p class="subtitle">Where we're going, we don't need roads‚Ä¶
        we need to celebrate 30 years</p>
    </div>

    <div class="info-section">
      <div class="info-item">
        <span class="info-icon">üìÖ</span>
        <div class="info-content">
          <span class="info-label">FECHA</span>
          <span class="info-value">17 de Enero, 2026</span>
        </div>
      </div>
      
      <div class="info-item">
        <span class="info-icon">‚è∞</span>
        <div class="info-content">
          <span class="info-label">HORA</span>
          <span class="info-value">20:00 HS</span>
        </div>
      </div>
      
      <div class="info-item">
        <span class="info-icon">üìç</span>
        <div class="info-content">
          <span class="info-label">DESTINO</span>
          <a 
            href="https://maps.app.goo.gl/hx3DTYLgSHhAg6mK6" 
            target="_blank" 
            rel="noopener noreferrer"
            class="info-value info-link"
          >
            El Salvador 4139, Jobs Palermo
          </a>
        </div>
      </div>
    </div>

    <!-- Formulario de Confirmaci√≥n -->
    <div class="form-section" *ngIf="!enviado">
      <div class="form-header">
        <span class="form-title">CONFIRMAR VIAJE</span>
        <div class="form-line"></div>
      </div>
      
      <form (ngSubmit)="confirmar()" class="rsvp-form">
        <div class="input-group">
          <label class="input-label">Nombre del viajero temporal</label>
          <input
            type="text"
            [(ngModel)]="nombre"
            name="nombre"
            placeholder="Ingresa tu nombre"
            class="retro-input"
            [class.invalid]="nombre.trim().length === 0 && nombre.length > 0"
            required
            #nombreInput
          />
          <div class="input-glow"></div>
          <span class="validation-message" *ngIf="nombre.trim().length === 0 && nombre.length > 0">
            El nombre es requerido
          </span>
        </div>

        <div class="input-group">
          <label class="input-label">¬øTe sum√°s al viaje?</label>
          <select 
            [(ngModel)]="asistencia" 
            name="asistencia" 
            class="retro-select"
            [class.invalid]="asistencia.length === 0 && nombre.trim().length > 0"
            required
            #asistenciaInput
          >
            <option value="">Selecciona tu estado</option>
            <option value="Si">‚úîÔ∏è Confirmado</option>
            <option value="TalVez">‚è≥ Tal vez</option>
            <option value="No">‚ùå Me qued√© en 1985</option>
          </select>
          <div class="input-glow"></div>
          <span class="validation-message" *ngIf="asistencia.length === 0 && nombre.trim().length > 0">
            Selecciona un estado de viaje
          </span>
        </div>

        <button 
          type="submit" 
          class="submit-btn" 
          [disabled]="!formularioValido || enviando"
          [class.disabled]="!formularioValido"
        >
          <span class="btn-text" *ngIf="!enviando">üî• ACTIVAR FLUX CAPACITOR üî•</span>
          <span class="btn-text" *ngIf="enviando">PROCESANDO...</span>
          <div class="btn-glow"></div>
        </button>
      </form>
    </div>

    <!-- Mensaje de Confirmaci√≥n - Asistencia Confirmada -->
    <div class="success-message" *ngIf="enviado && vaAsistir">
      <div class="success-icon">‚úì</div>
      <h2 class="success-title">¬°VIAJE CONFIRMADO!</h2>
      <p class="success-text">Tu RSVP ha sido enviado al futuro</p>
      <p class="success-subtext">
        Nos vemos en 
        <a 
          href="https://maps.app.goo.gl/hx3DTYLgSHhAg6mK6" 
          target="_blank" 
          rel="noopener noreferrer"
          class="success-link"
        >
          El Salvador 4139, Jobs Palermo
        </a>
      </p>
      <button class="reset-btn" (click)="resetear()">ENVIAR OTRA CONFIRMACI√ìN</button>
    </div>

    <!-- Mensaje de Confirmaci√≥n - Tal Vez -->
    <div class="success-message tal-vez" *ngIf="enviado && talVez">
      <div class="success-icon tal-vez-icon">‚è≥</div>
      <h2 class="success-title tal-vez-title">RESPUESTA REGISTRADA</h2>
      <p class="success-text">Tu respuesta "Tal vez" ha sido enviada</p>
      <p class="success-subtext">¬°Esperamos que puedas confirmar pronto! Te estaremos esperando üöó‚ö°</p>
      <button class="reset-btn" (click)="resetear()">ENVIAR OTRA CONFIRMACI√ìN</button>
    </div>

    <!-- Mensaje de Confirmaci√≥n - No Asistencia -->
    <div class="success-message no-asistencia" *ngIf="enviado && !vaAsistir && !talVez">
      <div class="success-icon no-asistencia-icon">‚ùå</div>
      <h2 class="success-title no-asistencia-title">L√çNEA TEMPORAL REGISTRADA</h2>
      <p class="success-text">Tu respuesta ha sido enviada</p>
      <p class="success-subtext">Lamentamos que no puedas asistir. ¬°Esperamos verte en otra oportunidad!</p>
      <button class="reset-btn" (click)="resetear()">ENVIAR OTRA CONFIRMACI√ìN</button>
    </div>
  </div>

  <!-- Efectos de Part√≠culas Flotantes -->
  <div class="particles">
    <div class="particle" *ngFor="let p of particles"></div>
  </div>
</div>
